

<ion-header style="text-align:center">
    <ion-navbar color="primary">
        <ion-buttons left>
            <button ion-button full clear favorite (click)="setServerIP()">
                <ion-icon name="ios-hammer-outline"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title >登陆</ion-title>
        <ion-buttons right>
                <button ion-button full clear favorite >
                <ion-icon ios="ios-hammer-outline"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>


<ion-content class="padding">

    <ion-card class="card-background">
        <!--<img src="../../assets/formBackground.png"/>-->
        <form [formGroup]="loginForm" class="card-title" (ngSubmit)="onSubmit(loginForm.value)">
            <ion-list insert>
                <ion-item style="background-color: transparent;border-top-color: rgba(255,255,255,0.04);" [class.error]="!username.valid && username.touched">
                    <ion-label><ion-icon name="ios-person-outline"></ion-icon></ion-label>
                    <ion-input  placeholder="请输入用户名" type="text" [formControl]="username" style="border-bottom: 1px solid #A9A9A9 !important;font-size: smaller;" clearInput></ion-input>
                </ion-item>
                <div *ngIf="username.hasError('required') && username.touched"
                     class="error-box">* 请输入用户名!</div>
                <ion-item style="background-color: transparent;border-color: rgba(255,255,255,0.01)" [class.error]="!password.valid && password.touched">
                    <ion-label>
                        <ion-icon name="ios-lock-outline"></ion-icon>
                    </ion-label>
                    <ion-input style="font-size: smaller" placeholder="请输入密码" type="password" [formControl]="password" clearInput></ion-input>
                </ion-item>
                <div *ngIf="password.hasError('required') && password.touched"
                     class="error-box">* 请输入正确的密码</div>
                <div *ngIf="password.hasError('minlength') && password.touched"
                     class="error-box">* 密码最小长度为4位!</div>

                <ion-item style="background-color: transparent;border-color: rgba(255,255,255,0.01)" [class.error]="!randomCode.valid && randomCode.touched">
                    <ion-label>
                        <ion-icon name="ios-grid-outline"></ion-icon>
                    </ion-label>
                    <ion-input style="font-size: smaller;" placeholder="请输入验证码" type="text" [formControl]="randomCode" clearInput></ion-input>
                    <ion-input style="text-align: right;background: image('../../assets/randomCode.jpg')" value="{{randomCodeImage}}" disabled="true"></ion-input>
                </ion-item>
                <div *ngIf="randomCode.hasError('required') && randomCode.touched"
                     class="error-box">* 请输入验证码</div>
                <div *ngIf="randomCode.hasError('minlength') && randomCode.touched"
                     class="error-box">* 验证码长度为4位!</div>
                <ion-item style="background-color: transparent;">
                    <ion-label style="font-size: small">记住密码</ion-label>
                    <ion-toggle (click)="toggled()"></ion-toggle>
                </ion-item>
            </ion-list>
            <div padding>
                <button ion-button primary round block  type="submit" [disabled]="!loginForm.valid">登  陆</button>
            </div>

        </form>
    </ion-card>

</ion-content>

